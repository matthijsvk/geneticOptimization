
.option compat
.lib model

.global 0 
      * R1 R2 w1  w2 wbias Vbias, VcommonMode
.param X1=1, X2=1, X3=1, X4=1, X5=1

R1 vdd vout1 'X1'
R2 vdd vout2 'X1'

* drain gate source bulk
m1 vout1 vin ACgnd 0 CMOSN w='X2' l=0.18u
m2 vout2 vinNeg ACgnd 0 CMOSN w='X2' l=0.18u

m3 ACgnd vbias gnd 0 CMOSN w='X3' l=0.18u

C1 vout1 0 5f
C2 vout2 0 5f

* vdd and vbias
V0 vdd 0 dc 1.8
vbias vbias 0 dc 'X4'

* common mode
V1 vin 0 dc 'X5'

* vin+ and vin-. flip connections => differential
V2 vin vinNeg ac 0.001


.ac dec 10 100 1G data=list

.data list X1 X2 X3 X4 X5
+ 31668.4329 2.7e-07 2.7e-05 0.57049 0.14225 
+ 41866.7136 2.7e-07 2.7e-05 0.3759 0.41936 
+ 100000 5.112e-06 2.7e-05 0.48567 0.33182 
+ 41866.7136 2.7e-05 2.7e-05 0.51356 0.11709 
+ 100000 3.7356e-06 2.0167e-05 0.50997 0.097568 
+ 64015.813 2.4013e-05 3.2761e-06 0.38328 0.48504 
+ 1000 2.7e-05 2.3254e-05 0.0075061 0.21992 
+ 48583.2479 1.1885e-06 8.4788e-06 0 0.51717 
+ 89297.9903 2.7e-07 2.7e-07 0.29569 0.23544 
+ 55224.1235 2.3909e-05 2.0684e-05 0.26572 0.2423 
+ 64015.813 2.3109e-06 3.2761e-06 0.38328 0.48504 
+ 43650.3818 2.7846e-06 2.7e-05 1.8 0.37106 
+ 100000 2.7e-05 2.7e-05 0.37904 0.20561 
+ 96685.4466 2.7e-07 2.5513e-05 0 0.15152 
+ 100000 2.7e-05 2.7e-05 1.8 0 
+ 58781.5285 2.7e-05 8.4788e-06 0.59495 0.32911 
+ 48583.2479 1.1885e-06 2.7e-05 0 0.15852 
+ 100000 4.3611e-07 2.1823e-05 0.62447 0.15037 
+ 31668.4329 6.4394e-06 2.7e-05 0.43205 0.47892 
+ 96685.4466 2.7e-07 2.0167e-05 0.47381 0.44941 
+ 100000 2.7e-07 2.7e-07 0.57049 0.14225 
+ 53255.3081 4.0838e-06 2.7e-05 0.41206 0.49728 
+ 31668.4329 2.7e-07 2.7e-05 0.38986 0.47892 
+ 100000 2.4974e-05 8.4788e-06 0 0.13698 
.enddata

.printfile ac v(vout1,vout2) file=acResult




