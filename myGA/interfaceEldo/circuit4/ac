
.option compat
.lib model

.global 0 
      * R1 R2 w1  w2 wbias Vbias, VcommonMode
.param X1=1, X2=1, X3=1, X4=1, X5=1

R1 vdd vout1 'X1'
R2 vdd vout2 'X1'

* drain gate source bulk
m1 vout1 vin ACgnd 0 CMOSN w='X2' l=0.18u
m2 vout2 vinNeg ACgnd 0 CMOSN w='X2' l=0.18u

m3 ACgnd vbias gnd 0 CMOSN w='X3' l=0.18u

C1 vout1 0 5f
C2 vout2 0 5f

* vdd and vbias
V0 vdd 0 dc 1.8
vbias vbias 0 dc 'X4'

* common mode
V1 vin 0 dc 'X5'

* vin+ and vin-. flip connections => differential
V2 vin vinNeg ac 0.001


.ac dec 10 100 1G data=list

.data list X1 X2 X3 X4 X5
+ 100000 2.7e-07 2.7e-05 0 0.5603 
+ 1000 2.7e-05 2.7e-07 0.62184 0.5812 
+ 100000 2.7e-07 2.7e-07 0.41266 0.48487 
+ 1000 2.7e-05 2.7e-05 0.4265 0.57552 
+ 100000 2.7e-07 2.7e-05 0.23384 0.50562 
+ 1000 2.7e-05 2.7e-05 0.3778 0.5812 
+ 9609.5199 2.7e-05 2.7e-05 0.58697 0.56514 
+ 100000 2.7e-07 2.7e-05 0 0.73245 
+ 100000 2.7e-07 2.7e-05 0.18996 0.51482 
+ 1000 2.7e-05 2.7e-07 0.1839 0.50571 
+ 100000 2.7e-07 2.7e-07 0.45325 0.51329 
+ 100000 2.7e-07 2.7e-07 0.40454 0.51897 
+ 1685.2531 2.7e-05 2.7e-05 1.8 0.53924 
+ 100000 2.7e-07 2.7e-07 0.1839 0.55876 
+ 1000 2.7e-07 1.9967e-05 1.8 0.47161 
+ 1000 2.7e-07 2.7e-05 0.95791 0.49918 
+ 100000 2.7e-07 2.7e-07 0.49713 0.50408 
+ 100000 2.7e-05 2.7e-07 0.62184 0.5812 
+ 1000 2.7e-05 2.7e-05 0.6576 0.49371 
+ 11906.2289 2.7e-05 2.7e-05 0.53692 0.53231 
+ 47147.1727 2.7e-07 2.7e-07 0.96943 0.69317 
+ 1000 2.7e-07 2.7e-07 0.32775 0.54836 
+ 56428.8882 2.7e-05 1.798e-05 1.8 0.52249 
+ 100000 2.7e-07 2.7e-07 0.46137 0.51897 
.enddata

.printfile ac v(vout1,vout2) file=acResult




