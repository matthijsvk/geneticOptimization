
.option compat
.lib model

.global 0 
      * R1 R2 w1  w2 wbias Vbias, VcommonMode
.param X1=1, X2=1, X3=1, X4=1, X5=1, X6=1, X7=1

R1 vdd vout1 'X1'
R2 vdd vout2 'X2'

* drain gate source bulk
m1 vout1 vin ACgnd 0 CMOSN w='X3' l=0.18u
m2 vout2 vinNeg ACgnd 0 CMOSN w='X4' l=0.18u
m3 ACgnd vbias gnd 0 CMOSN w='X5' l=0.18u

C1 vout1 0 5f
C2 vout2 0 5f

* vdd and vbias
V0 vdd 0 dc 1.8
vbias vbias 0 dc 'X6'

* common mode
V1 vin 0 dc 'X7'

* vin+ and vin-. flip connections => differential
V2 vin vinNeg ac 0.001


.ac dec 10 100 1G data=list

.data list X1 X2 X3 X4 X5 X6 X7
+ 8819.1988 10000 1.8e-07 1.349e-05 4.4045e-05 1.8 0.7607 
+ 1000 9878.3346 1.8e-07 1.5611e-05 4.13e-05 1.8 0.42007 
+ 2308.8415 9708.0744 1.8e-07 5e-05 3.7435e-05 1.2451 0.66826 
+ 1000 10000 1.8e-07 1.3645e-05 4.1622e-05 1.8 0.46202 
+ 1000 9878.3346 1.8e-07 1.5153e-05 4.0156e-05 1.8 0.46109 
+ 10000 10000 1.8e-07 1.697e-05 5e-05 1.8 0.5181 
+ 1000 5767.6346 2.0649e-06 1.8e-07 4.0816e-05 1.8 0.19085 
+ 3363.999 10000 1.8e-07 3.6438e-05 2.6542e-05 1.316 1.2382 
+ 10000 5395.7778 1.2634e-05 1.1869e-05 3.4441e-05 1.8 0.60386 
+ 5779.4843 10000 1.8e-07 1.5799e-05 4.8904e-05 1.8 0.57521 
+ 1000 10000 1.8e-07 1.5153e-05 4.0156e-05 1.8 0.46109 
+ 1002.8303 10000 1.8e-07 5.8248e-06 5e-05 1.8 1.3564 
+ 1000 7295.2701 9.2413e-06 1.5956e-05 3.5924e-05 1.8 0.66841 
+ 1000 9878.3346 1.8e-07 2.1019e-05 4.0745e-05 1.8 0.44982 
+ 2033.1427 5481.707 2.598e-05 3.737e-06 4.1471e-05 1.5752 0.62252 
+ 4232.6145 9162.3069 1.8e-07 3.3705e-06 4.4534e-05 1.5747 0.11798 
+ 4649.5386 9325.2857 3.8382e-06 3.6105e-05 3.8735e-05 1.8 0.82067 
+ 1000 10000 1.8e-07 1.6091e-05 4.018e-05 1.8 0.56457 
+ 1000 10000 1.8e-07 1.3416e-05 4.1553e-05 1.8 0.56082 
+ 1000 10000 1.8e-07 1.3081e-05 4.1292e-05 1.8 0.45658 
+ 3422.4636 10000 1.8e-07 2.6632e-05 3.3149e-05 0.77456 0.96427 
+ 1268.7721 10000 1.5523e-05 3.2962e-05 5e-05 1.8 0.46961 
+ 1000 10000 1.8e-07 2.1243e-05 4.1534e-05 1.8 0.58574 
+ 1000 9878.3346 1.8e-07 1.3421e-05 5e-05 1.8 0.46825 
.enddata

.printfile ac v(vout1,vout2) file=acResult




