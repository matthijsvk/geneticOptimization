function f=benchmark(nb,x,V)
% This function evaluates the functions used in these sessions 
% nb : number of the function (see below).
% x : vector of variables.

switch nb

	case 1
		% Function x^2 in R^2
		f=sum(x.^2,2);

	case 2 % Variation on x^2 in R^2
        
		if sum((x-[2 2]).^2) < 0.5  
			f=-1+4*sum((x-[2 2]).^2);
		elseif sum((x-[-1 3]).^2) < 0.25  
				f=-3+20*sum((x-[-1 3]).^2);
		else
		    f=sum(x.^2,2);    
		end

        case 3  %ZDT4
		% http://people.ee.ethz.ch/~sop/download/supplementary/testproblems/zdt4/
	    	f(1)=x(1);
		g=1+10*(V-1);
		for i=2:6
		    g=g+(x(i))^2-10*cos(4*pi*x(i));
		end
		f(2)=g*(1-sqrt(x(1)/g));

    case 4 %ZDT6
		% http://people.ee.ethz.ch/~sop/download/supplementary/testproblems/zdt6/
		f = [];
		%% Objective function one
		f(1) = 1 - exp(-4*x(1))*(sin(6*pi*x(1)))^6;
		sum1 = 0;
		for i = 2 : 6
		    sum1 = sum1 + x(i)/4;
		end
		%% Intermediate function
		g_x = 1 + 9*(sum1)^(0.25);
		%% Objective function one
		f(2) = g_x*(1 - ((f(1))/(g_x))^2);
        
    case 5 % optimize the algorithm itself
        N2 = x(1);
        P2 = x(2);
        sd_mut2 = x(3);
        NPMult2 = x(4);
        NCMult2 = x(5);
        intervalScalar2 = x(6);
        
        lb2=  zeros(1,6);
        ub2= ones(1,6); 
        V2 = length(lb2);
        M2 = 2;
        
        % benchmark value should be runtime till convergence. Run on ZDT6
        [it,runTime]= myGAEvaluator(@(x) benchmark(4,x,V2),V2,M2,lb2,ub2,P2, sd_mut2, N2, NPMult2, NCMult2, intervalScalar2);
        a = [it, runTime]
        f(1) = runTime;
end


end 
